<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenGameInstaller</title>
  </head>
  <body>
    <div>
      <main>
        <img
          src="./favicon-256x256.png"
          alt="OpenGameInstaller Logo"
          width="128"
          height="128"
        />

        <h1 id="status">Starting...</h1>
        <p id="subtext"></p>
        <progress id="progress" value="0" max="100"></progress>
        <div class="spinner" id="spinner"></div>
      </main>
    </div>
  </body>
</html>
<script>
  document.addEventListener('splash-status', (event) => {
    const { text, subtext } = event.detail;
    document.getElementById('status').textContent = text;
    const subtextEl = document.getElementById('subtext');
    if (subtext) {
      subtextEl.textContent = subtext;
      subtextEl.style.display = 'block';
    } else {
      subtextEl.style.display = 'none';
    }
  });

  document.addEventListener('splash-progress', (event) => {
    const { current, total, speed } = event.detail;
    const progressEl = document.getElementById('progress');
    const spinnerEl = document.getElementById('spinner');

    if (total > 0) {
      progressEl.style.display = 'block';
      progressEl.value = current;
      progressEl.max = total;
      spinnerEl.style.display = 'none';
    } else {
      progressEl.style.display = 'none';
      spinnerEl.style.display = 'block';
    }
  });
</script>
<style>
  body {
    background-color: #1a1a1a;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
  }
  main {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100vh;
  }
  main h1 {
    font-family: 'Archivo', sans-serif;
    font-weight: 300;
    font-size: 1.25rem;
    color: rgb(175, 175, 175);
    width: 100%;
    text-align: center;
    margin-bottom: 0.5rem;
  }
  main p {
    font-family: 'Archivo', sans-serif;
    font-weight: 300;
    font-size: 0.875rem;
    color: rgb(175, 175, 175);
    width: 100%;
    text-align: center;
    margin: 0;
    margin-bottom: 1rem;
    display: none;
  }

  * {
    -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
    -khtml-user-select: none; /* Konqueror HTML */
    -moz-user-select: none; /* Old versions of Firefox */
    -ms-user-select: none; /* Internet Explorer/Edge */
    user-select: none; /* Non-prefixed version, currently
																		supported by Chrome, Edge, Opera and Firefox */
  }

  @font-face {
    font-family: 'Archivo';
    src: url(./Archivo-VariableFont_wdth\,wght.ttf);
  }

  .spinner {
    width: 24px;
    height: 24px;
    border: 3px solid rgb(66, 138, 145);
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  progress {
    height: 0.3rem;
    width: 80%;
    appearance: none;
    display: none;
  }

  progress::-webkit-progress-bar {
    border-radius: 0.5rem;
    background-color: rgb(174, 205, 199);
  }

  progress::-webkit-progress-value {
    border-radius: 0.5rem;
    background-color: rgb(66, 138, 145);
  }
</style>
